<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>new_file</title>
		<meta name="description" content="" />
		<meta name="author" content="baldwinj" />

		

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		
		<script type="application/javascript">
			
			var fruits = new Array();
			var quantity = new Array();
			
			fruits[0] = "Apples";
			quantity[0] = 5;
			fruits[1] = "Oranges";
			quantity[1] = 3; 
			fruits[2] = "Lemons";
			quantity[2] = 1;
			
			function initialize()
			{
				//string to hold table markup
				var html = "";
				//create opening table tag
				html += '<table border="1">';
			    //loop through all the elements of the array
				for (var i = 0; i < fruits.length; i++)
				{
					//build the row markup
					html += '<tr>';
					html += '<td>' + i +'</td>';
					html += '<td>' + fruits[i] + '</td>';
					//id the cell with the fruit name (not used this time)
					html += '<td id="' + fruits[i]  + '"">' + quantity[i] + '</td>';
					html += '</tr>';
				}
			    //closing table tag
				html += '</table>';
			    //get the fruit div to write the generated html
				var fruitDiv = document.getElementById("fruits");
				fruitDiv.innerHTML = html;
			}
			
			function orderButtonClick()
			{
				//get the input values of the textboxes
				var fruitID = document.getElementById("fruitID").value;
				var fruitQuantity = document.getElementById("fruitQuantity").value;
				
				quantity[fruitID] -= fruitQuantity;
				initialize();
			}
			
		</script>
		
	</head>

	<body>
		<!-- div to write the table to -->
		<div id="fruits"></div>
		<!-- id and quantity inputs accessed by orderButtonClick -->
		ID: <input type="text" id="fruitID" value="1" /><span id="errorFruitID"></span><br/>
		Quantity: <input type="text" id="fruitQuantity" value="1" /><span id="errorFruitQuantity"></span><br/>
		<div id="errorMessage" style="color:red;"></div>
		<!-- call the orderButtonClick function when clicked -->
		<input type="button" value="Order" onclick="orderButtonClick()" />
		
		<script>
		    //call the initialize function at the bottom of the page
		    //in the header the "fruits" div does not exist yet
			initialize();			
		</script>
	</body>
</html>
